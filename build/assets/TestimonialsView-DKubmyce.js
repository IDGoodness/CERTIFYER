import{c as pt,w as je,r as s,x as ft,y as be,z as Ne,D as Re,E as mt,j as t,R as xt,G as ht,P as Z,H as vt,I as V,J as v,K as gt,L as wt,M as k,N as Mt,O as Ct,Q as _t,U as yt,V as jt,W as bt,X as Nt,Y as Rt,Z as St,_ as Se,$ as Dt,a0 as we,a1 as De,a2 as It,t as K,a3 as Et,C as T,h as O,a4 as Me,a5 as Ce,u as Pt,b as At,d as Tt,m as Ot,a6 as se,g as ce,a7 as kt,v as Lt}from"./index-DR03xtOe.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Gt=pt("funnel",Ft);var ie=["Enter"," "],Kt=["ArrowDown","PageUp","Home"],Ie=["ArrowUp","PageDown","End"],Ut=[...Kt,...Ie],$t={ltr:[...ie,"ArrowRight"],rtl:[...ie,"ArrowLeft"]},Bt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Y="Menu",[$,Vt,Yt]=ft(Y),[I,Ee]=je(Y,[Yt,be,Ne]),Q=be(),Pe=Ne(),[zt,E]=I(Y),[Xt,z]=I(Y),Ae=e=>{const{__scopeMenu:r,open:n=!1,children:o,dir:a,onOpenChange:c,modal:l=!0}=e,d=Q(r),[f,h]=s.useState(null),p=s.useRef(!1),i=Re(c),x=mt(a);return s.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),t.jsx(xt,{...d,children:t.jsx(zt,{scope:r,open:n,onOpenChange:i,content:f,onContentChange:h,children:t.jsx(Xt,{scope:r,onClose:s.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:p,dir:x,modal:l,children:o})})})};Ae.displayName=Y;var Ht="MenuAnchor",de=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e,a=Q(n);return t.jsx(ht,{...a,...o,ref:r})});de.displayName=Ht;var ue="MenuPortal",[Wt,Te]=I(ue,{forceMount:void 0}),Oe=e=>{const{__scopeMenu:r,forceMount:n,children:o,container:a}=e,c=E(ue,r);return t.jsx(Wt,{scope:r,forceMount:n,children:t.jsx(Z,{present:n||c.open,children:t.jsx(vt,{asChild:!0,container:a,children:o})})})};Oe.displayName=ue;var _="MenuContent",[Jt,le]=I(_),ke=s.forwardRef((e,r)=>{const n=Te(_,e.__scopeMenu),{forceMount:o=n.forceMount,...a}=e,c=E(_,e.__scopeMenu),l=z(_,e.__scopeMenu);return t.jsx($.Provider,{scope:e.__scopeMenu,children:t.jsx(Z,{present:o||c.open,children:t.jsx($.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(qt,{...a,ref:r}):t.jsx(Zt,{...a,ref:r})})})})}),qt=s.forwardRef((e,r)=>{const n=E(_,e.__scopeMenu),o=s.useRef(null),a=V(r,o);return s.useEffect(()=>{const c=o.current;if(c)return gt(c)},[]),t.jsx(pe,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Zt=s.forwardRef((e,r)=>{const n=E(_,e.__scopeMenu);return t.jsx(pe,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Qt=yt("MenuContent.ScrollLock"),pe=s.forwardRef((e,r)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:i,onInteractOutside:x,onDismiss:w,disableOutsideScroll:g,...S}=e,m=E(_,n),j=z(_,n),L=Q(n),b=Pe(n),y=Vt(n),[N,R]=s.useState(null),X=s.useRef(null),ct=V(r,X,m.onContentChange),H=s.useRef(0),W=s.useRef(""),it=s.useRef(0),ne=s.useRef(null),he=s.useRef("right"),re=s.useRef(0),dt=g?_t:s.Fragment,ut=g?{as:Qt,allowPinchZoom:!0}:void 0,lt=u=>{const A=W.current+u,D=y().filter(C=>!C.disabled),F=document.activeElement,oe=D.find(C=>C.ref.current===F)?.textValue,ae=D.map(C=>C.textValue),ve=pn(ae,A,oe),G=D.find(C=>C.textValue===ve)?.ref.current;(function C(ge){W.current=ge,window.clearTimeout(H.current),ge!==""&&(H.current=window.setTimeout(()=>C(""),1e3))})(A),G&&setTimeout(()=>G.focus())};s.useEffect(()=>()=>window.clearTimeout(H.current),[]),Ct();const P=s.useCallback(u=>he.current===ne.current?.side&&mn(u,ne.current?.area),[]);return t.jsx(Jt,{scope:n,searchRef:W,onItemEnter:s.useCallback(u=>{P(u)&&u.preventDefault()},[P]),onItemLeave:s.useCallback(u=>{P(u)||(X.current?.focus(),R(null))},[P]),onTriggerLeave:s.useCallback(u=>{P(u)&&u.preventDefault()},[P]),pointerGraceTimerRef:it,onPointerGraceIntentChange:s.useCallback(u=>{ne.current=u},[]),children:t.jsx(dt,{...ut,children:t.jsx(jt,{asChild:!0,trapped:a,onMountAutoFocus:v(c,u=>{u.preventDefault(),X.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(bt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:i,onInteractOutside:x,onDismiss:w,children:t.jsx(Nt,{asChild:!0,...b,dir:j.dir,orientation:"vertical",loop:o,currentTabStopId:N,onCurrentTabStopIdChange:R,onEntryFocus:v(f,u=>{j.isUsingKeyboardRef.current||u.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Rt,{role:"menu","aria-orientation":"vertical","data-state":Ze(m.open),"data-radix-menu-content":"",dir:j.dir,...L,...S,ref:ct,style:{outline:"none",...S.style},onKeyDown:v(S.onKeyDown,u=>{const D=u.target.closest("[data-radix-menu-content]")===u.currentTarget,F=u.ctrlKey||u.altKey||u.metaKey,oe=u.key.length===1;D&&(u.key==="Tab"&&u.preventDefault(),!F&&oe&&lt(u.key));const ae=X.current;if(u.target!==ae||!Ut.includes(u.key))return;u.preventDefault();const G=y().filter(C=>!C.disabled).map(C=>C.ref.current);Ie.includes(u.key)&&G.reverse(),un(G)}),onBlur:v(e.onBlur,u=>{u.currentTarget.contains(u.target)||(window.clearTimeout(H.current),W.current="")}),onPointerMove:v(e.onPointerMove,B(u=>{const A=u.target,D=re.current!==u.clientX;if(u.currentTarget.contains(A)&&D){const F=u.clientX>re.current?"right":"left";he.current=F,re.current=u.clientX}}))})})})})})})});ke.displayName=_;var en="MenuGroup",fe=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e;return t.jsx(k.div,{role:"group",...o,ref:r})});fe.displayName=en;var tn="MenuLabel",Le=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e;return t.jsx(k.div,{...o,ref:r})});Le.displayName=tn;var J="MenuItem",_e="menu.itemSelect",ee=s.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:o,...a}=e,c=s.useRef(null),l=z(J,e.__scopeMenu),d=le(J,e.__scopeMenu),f=V(r,c),h=s.useRef(!1),p=()=>{const i=c.current;if(!n&&i){const x=new CustomEvent(_e,{bubbles:!0,cancelable:!0});i.addEventListener(_e,w=>o?.(w),{once:!0}),Mt(i,x),x.defaultPrevented?h.current=!1:l.onClose()}};return t.jsx(Fe,{...a,ref:f,disabled:n,onClick:v(e.onClick,p),onPointerDown:i=>{e.onPointerDown?.(i),h.current=!0},onPointerUp:v(e.onPointerUp,i=>{h.current||i.currentTarget?.click()}),onKeyDown:v(e.onKeyDown,i=>{const x=d.searchRef.current!=="";n||x&&i.key===" "||ie.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});ee.displayName=J;var Fe=s.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:o=!1,textValue:a,...c}=e,l=le(J,n),d=Pe(n),f=s.useRef(null),h=V(r,f),[p,i]=s.useState(!1),[x,w]=s.useState("");return s.useEffect(()=>{const g=f.current;g&&w((g.textContent??"").trim())},[c.children]),t.jsx($.ItemSlot,{scope:n,disabled:o,textValue:a??x,children:t.jsx(wt,{asChild:!0,...d,focusable:!o,children:t.jsx(k.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:h,onPointerMove:v(e.onPointerMove,B(g=>{o?l.onItemLeave(g):(l.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:v(e.onPointerLeave,B(g=>l.onItemLeave(g))),onFocus:v(e.onFocus,()=>i(!0)),onBlur:v(e.onBlur,()=>i(!1))})})})}),nn="MenuCheckboxItem",Ge=s.forwardRef((e,r)=>{const{checked:n=!1,onCheckedChange:o,...a}=e;return t.jsx(Ve,{scope:e.__scopeMenu,checked:n,children:t.jsx(ee,{role:"menuitemcheckbox","aria-checked":q(n)?"mixed":n,...a,ref:r,"data-state":xe(n),onSelect:v(a.onSelect,()=>o?.(q(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Ge.displayName=nn;var Ke="MenuRadioGroup",[rn,on]=I(Ke,{value:void 0,onValueChange:()=>{}}),Ue=s.forwardRef((e,r)=>{const{value:n,onValueChange:o,...a}=e,c=Re(o);return t.jsx(rn,{scope:e.__scopeMenu,value:n,onValueChange:c,children:t.jsx(fe,{...a,ref:r})})});Ue.displayName=Ke;var $e="MenuRadioItem",Be=s.forwardRef((e,r)=>{const{value:n,...o}=e,a=on($e,e.__scopeMenu),c=n===a.value;return t.jsx(Ve,{scope:e.__scopeMenu,checked:c,children:t.jsx(ee,{role:"menuitemradio","aria-checked":c,...o,ref:r,"data-state":xe(c),onSelect:v(o.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Be.displayName=$e;var me="MenuItemIndicator",[Ve,an]=I(me,{checked:!1}),Ye=s.forwardRef((e,r)=>{const{__scopeMenu:n,forceMount:o,...a}=e,c=an(me,n);return t.jsx(Z,{present:o||q(c.checked)||c.checked===!0,children:t.jsx(k.span,{...a,ref:r,"data-state":xe(c.checked)})})});Ye.displayName=me;var sn="MenuSeparator",ze=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e;return t.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});ze.displayName=sn;var cn="MenuArrow",Xe=s.forwardRef((e,r)=>{const{__scopeMenu:n,...o}=e,a=Q(n);return t.jsx(St,{...a,...o,ref:r})});Xe.displayName=cn;var dn="MenuSub",[dr,He]=I(dn),U="MenuSubTrigger",We=s.forwardRef((e,r)=>{const n=E(U,e.__scopeMenu),o=z(U,e.__scopeMenu),a=He(U,e.__scopeMenu),c=le(U,e.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=c,h={__scopeMenu:e.__scopeMenu},p=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>p,[p]),s.useEffect(()=>{const i=d.current;return()=>{window.clearTimeout(i),f(null)}},[d,f]),t.jsx(de,{asChild:!0,...h,children:t.jsx(Fe,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Ze(n.open),...e,ref:Se(r,a.onTriggerChange),onClick:i=>{e.onClick?.(i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:v(e.onPointerMove,B(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:v(e.onPointerLeave,B(i=>{p();const x=n.content?.getBoundingClientRect();if(x){const w=n.content?.dataset.side,g=w==="right",S=g?-5:5,m=x[g?"left":"right"],j=x[g?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+S,y:i.clientY},{x:m,y:x.top},{x:j,y:x.top},{x:j,y:x.bottom},{x:m,y:x.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:v(e.onKeyDown,i=>{const x=c.searchRef.current!=="";e.disabled||x&&i.key===" "||$t[o.dir].includes(i.key)&&(n.onOpenChange(!0),n.content?.focus(),i.preventDefault())})})})});We.displayName=U;var Je="MenuSubContent",qe=s.forwardRef((e,r)=>{const n=Te(_,e.__scopeMenu),{forceMount:o=n.forceMount,...a}=e,c=E(_,e.__scopeMenu),l=z(_,e.__scopeMenu),d=He(Je,e.__scopeMenu),f=s.useRef(null),h=V(r,f);return t.jsx($.Provider,{scope:e.__scopeMenu,children:t.jsx(Z,{present:o||c.open,children:t.jsx($.Slot,{scope:e.__scopeMenu,children:t.jsx(pe,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&f.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:v(e.onFocusOutside,p=>{p.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:v(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:v(e.onKeyDown,p=>{const i=p.currentTarget.contains(p.target),x=Bt[l.dir].includes(p.key);i&&x&&(c.onOpenChange(!1),d.trigger?.focus(),p.preventDefault())})})})})})});qe.displayName=Je;function Ze(e){return e?"open":"closed"}function q(e){return e==="indeterminate"}function xe(e){return q(e)?"indeterminate":e?"checked":"unchecked"}function un(e){const r=document.activeElement;for(const n of e)if(n===r||(n.focus(),document.activeElement!==r))return}function ln(e,r){return e.map((n,o)=>e[(r+o)%e.length])}function pn(e,r,n){const a=r.length>1&&Array.from(r).every(h=>h===r[0])?r[0]:r,c=n?e.indexOf(n):-1;let l=ln(e,Math.max(c,0));a.length===1&&(l=l.filter(h=>h!==n));const f=l.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return f!==n?f:void 0}function fn(e,r){const{x:n,y:o}=e;let a=!1;for(let c=0,l=r.length-1;c<r.length;l=c++){const d=r[c],f=r[l],h=d.x,p=d.y,i=f.x,x=f.y;p>o!=x>o&&n<(i-h)*(o-p)/(x-p)+h&&(a=!a)}return a}function mn(e,r){if(!r)return!1;const n={x:e.clientX,y:e.clientY};return fn(n,r)}function B(e){return r=>r.pointerType==="mouse"?e(r):void 0}var xn=Ae,hn=de,vn=Oe,gn=ke,wn=fe,Mn=Le,Cn=ee,_n=Ge,yn=Ue,jn=Be,bn=Ye,Nn=ze,Rn=Xe,Sn=We,Dn=qe,te="DropdownMenu",[In]=je(te,[Ee]),M=Ee(),[En,Qe]=In(te),et=e=>{const{__scopeDropdownMenu:r,children:n,dir:o,open:a,defaultOpen:c,onOpenChange:l,modal:d=!0}=e,f=M(r),h=s.useRef(null),[p,i]=Dt({prop:a,defaultProp:c??!1,onChange:l,caller:te});return t.jsx(En,{scope:r,triggerId:we(),triggerRef:h,contentId:we(),open:p,onOpenChange:i,onOpenToggle:s.useCallback(()=>i(x=>!x),[i]),modal:d,children:t.jsx(xn,{...f,open:p,onOpenChange:i,dir:o,modal:d,children:n})})};et.displayName=te;var tt="DropdownMenuTrigger",nt=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...a}=e,c=Qe(tt,n),l=M(n);return t.jsx(hn,{asChild:!0,...l,children:t.jsx(k.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...a,ref:Se(r,c.triggerRef),onPointerDown:v(e.onPointerDown,d=>{!o&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:v(e.onKeyDown,d=>{o||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});nt.displayName=tt;var Pn="DropdownMenuPortal",rt=e=>{const{__scopeDropdownMenu:r,...n}=e,o=M(r);return t.jsx(vn,{...o,...n})};rt.displayName=Pn;var ot="DropdownMenuContent",at=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=Qe(ot,n),c=M(n),l=s.useRef(!1);return t.jsx(gn,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...o,ref:r,onCloseAutoFocus:v(e.onCloseAutoFocus,d=>{l.current||a.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:v(e.onInteractOutside,d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!a.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});at.displayName=ot;var An="DropdownMenuGroup",Tn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(wn,{...a,...o,ref:r})});Tn.displayName=An;var On="DropdownMenuLabel",kn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(Mn,{...a,...o,ref:r})});kn.displayName=On;var Ln="DropdownMenuItem",st=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(Cn,{...a,...o,ref:r})});st.displayName=Ln;var Fn="DropdownMenuCheckboxItem",Gn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(_n,{...a,...o,ref:r})});Gn.displayName=Fn;var Kn="DropdownMenuRadioGroup",Un=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(yn,{...a,...o,ref:r})});Un.displayName=Kn;var $n="DropdownMenuRadioItem",Bn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(jn,{...a,...o,ref:r})});Bn.displayName=$n;var Vn="DropdownMenuItemIndicator",Yn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(bn,{...a,...o,ref:r})});Yn.displayName=Vn;var zn="DropdownMenuSeparator",Xn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(Nn,{...a,...o,ref:r})});Xn.displayName=zn;var Hn="DropdownMenuArrow",Wn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(Rn,{...a,...o,ref:r})});Wn.displayName=Hn;var Jn="DropdownMenuSubTrigger",qn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(Sn,{...a,...o,ref:r})});qn.displayName=Jn;var Zn="DropdownMenuSubContent",Qn=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...o}=e,a=M(n);return t.jsx(Dn,{...a,...o,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qn.displayName=Zn;var er=et,tr=nt,nr=rt,rr=at,or=st;function ar({...e}){return t.jsx(er,{"data-slot":"dropdown-menu",...e})}function sr({...e}){return t.jsx(tr,{"data-slot":"dropdown-menu-trigger",...e})}function cr({className:e,sideOffset:r=4,...n}){return t.jsx(nr,{children:t.jsx(rr,{"data-slot":"dropdown-menu-content",sideOffset:r,className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function ye({className:e,inset:r,variant:n="default",...o}){return t.jsx(or,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:De("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o})}const ur=({organizationId:e,accessToken:r})=>{const[n,o]=s.useState([]),[a,c]=s.useState({}),[l,d]=s.useState(!0),[f,h]=s.useState("all");s.useEffect(()=>{p()},[e,r]);const p=async()=>{if(!r){d(!1);return}try{d(!0);const m=await It.getForOrganization(r,e);o(m.testimonials||[]),c(m.testimonialsByCourse||{})}catch(m){console.error("Failed to load testimonials:",m),K.error("Failed to load testimonials")}finally{d(!1)}},i=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=Object.keys(a),w=f==="all"?n:a[f]||[],g=()=>{try{const m=["Student Name","Course Name","Testimonial","Certificate ID","Submitted Date"],j=w.map(R=>[R.studentName,R.courseName,`"${R.testimonial.replace(/"/g,'""')}"`,R.certificateId,i(R.submittedAt)]),L=[m.join(","),...j.map(R=>R.join(","))].join(`
`),b=new Blob([L],{type:"text/csv;charset=utf-8;"}),y=document.createElement("a"),N=URL.createObjectURL(b);y.setAttribute("href",N),y.setAttribute("download",`testimonials_${f==="all"?"all":f}_${new Date().toISOString().split("T")[0]}.csv`),y.style.visibility="hidden",document.body.appendChild(y),y.click(),document.body.removeChild(y),K.success("Testimonials exported as CSV")}catch(m){console.error("Failed to download CSV:",m),K.error("Failed to download CSV")}},S=()=>{try{const m=w.map(N=>({studentName:N.studentName,courseName:N.courseName,testimonial:N.testimonial,certificateId:N.certificateId,submittedAt:N.submittedAt,formattedDate:i(N.submittedAt)})),j=JSON.stringify(m,null,2),L=new Blob([j],{type:"application/json;charset=utf-8;"}),b=document.createElement("a"),y=URL.createObjectURL(L);b.setAttribute("href",y),b.setAttribute("download",`testimonials_${f==="all"?"all":f}_${new Date().toISOString().split("T")[0]}.json`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b),K.success("Testimonials exported as JSON")}catch(m){console.error("Failed to download JSON:",m),K.error("Failed to download JSON")}};return l?t.jsx(Et,{}):n.length===0?t.jsx(T,{children:t.jsxs(O,{className:"flex flex-col items-center justify-center p-12",children:[t.jsx(Me,{className:"w-16 h-16 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Testimonials Yet"}),t.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"When students submit their feedback along with their certificates, their testimonials will appear here."})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(T,{children:t.jsx(O,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Testimonials"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:n.length})]}),t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(Me,{className:"w-6 h-6 text-primary"})})]})})}),t.jsx(T,{children:t.jsx(O,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Courses with Feedback"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:x.length})]}),t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(Ce,{className:"w-6 h-6 text-primary"})})]})})}),t.jsx(T,{children:t.jsx(O,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Avg per Course"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:x.length>0?(n.length/x.length).toFixed(1):"0"})]}),t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(Pt,{className:"w-6 h-6 text-primary"})})]})})})]}),t.jsxs(T,{children:[t.jsx(At,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Tt,{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Filter by Course"]}),t.jsxs(ar,{children:[t.jsx(sr,{asChild:!0,children:t.jsxs(Ot,{variant:"outline",size:"sm",className:"gap-2",children:[t.jsx(se,{className:"w-4 h-4"}),"Export"]})}),t.jsxs(cr,{align:"end",children:[t.jsxs(ye,{onClick:g,children:[t.jsx(se,{className:"w-4 h-4 mr-2"}),"Download as CSV"]}),t.jsxs(ye,{onClick:S,children:[t.jsx(se,{className:"w-4 h-4 mr-2"}),"Download as JSON"]})]})]})]})}),t.jsx(O,{children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(ce,{variant:f==="all"?"default":"outline",className:"cursor-pointer px-4 py-2",onClick:()=>h("all"),children:["All Courses (",n.length,")"]}),x.map(m=>t.jsxs(ce,{variant:f===m?"default":"outline",className:"cursor-pointer px-4 py-2",onClick:()=>h(m),children:[m," (",a[m].length,")"]},m))]})})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.map(m=>t.jsx(T,{className:"hover:shadow-md transition-shadow",children:t.jsxs(O,{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx(kt,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:m.studentName}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(Ce,{className:"w-3 h-3"}),m.courseName]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx(Lt,{className:"w-4 h-4"}),i(m.submittedAt)]})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-primary",children:t.jsxs("p",{className:"text-gray-700 italic",children:['"',m.testimonial,'"']})}),t.jsx("div",{className:"mt-4 flex items-center gap-2",children:t.jsxs(ce,{variant:"outline",className:"text-xs",children:["ID: ",m.certificateId]})})]})},m.id))})]})};export{ur as default};
